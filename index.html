<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>network</title>
    <script>
        // --- AUTH GATE ---
        const currentUser = localStorage.getItem('username');
        if (!currentUser) {
            window.location.href = 'login.html';
        }
    </script>
    <style>
        /* --- BASE SETTINGS --- */
        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            background-color: #050505;
            /* Subtle vignette to mimic the lighting in the reference */
            background-image: radial-gradient(circle at 50% 40%, #1a1a1a 0%, #000000 85%);
            height: 100vh;
            width: 100vw;
            overflow: hidden; /* No Page Scroll */
            color: #dcdcdc;
            font-family: 'Georgia', 'Times New Roman', serif; /* Matching the classy font of the ref */
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* --- HEADER SECTION --- */
        .site-header {
            width: 100%;
            max-width: 1000px;
            padding-top: 30px;
            padding-bottom: 10px;
            text-align: left;
            position: relative;
            z-index: 10;
        }

        .main-title {
            font-size: 3.5rem;
            color: #c4a484; /* Muted gold/tan like the Gaiman text */
            text-shadow: 0 0 15px rgba(196, 164, 132, 0.4);
            letter-spacing: 1px;
            margin-bottom: 5px;
        }

        .nav-bar {
            font-family: 'Arial', sans-serif;
            font-size: 0.75rem;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-bottom: 1px solid #333;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .nav-bar a {
            color: #aaa;
            text-decoration: none;
            margin-right: 10px;
            transition: color 0.3s;
        }
        .nav-bar a:hover { color: #fff; }
        .separator { color: #444; margin: 0 5px; }

        /* --- MAIN STAGE (The "Window" area) --- */
        .stage-container {
            flex-grow: 1;
            width: 100%;
            max-width: 1000px;
            display: flex;
            gap: 40px; /* Spaced out */
            height: 70%; /* Keep it contained */
        }

        /* --- LEFT: THE CONTENT WINDOW (Replaces Neil at the desk) --- */
        .content-window {
            flex: 2;
            border: 1px solid #333;
            background: rgba(10, 10, 10, 0.6);
            box-shadow: 0 0 30px rgba(0,0,0,0.8);
            position: relative;
            display: flex;
            flex-direction: column;
        }

        /* Decorative "Curtain" effect (top bar of window) */
        .window-header {
            background: #111;
            padding: 10px 20px;
            border-bottom: 1px solid #333;
            color: #666;
            font-size: 0.8rem;
            font-family: sans-serif;
            display: flex;
            justify-content: space-between;
        }

        /* The Feed Area */
        .feed-scroll {
            padding: 20px;
            overflow-y: auto;
            height: 100%;
        }

        /* Post Styles */
        .post {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #222;
        }
        .post-meta {
            color: #c4a484;
            font-size: 0.8rem;
            margin-bottom: 5px;
            font-style: italic;
        }
        .post-body {
            font-size: 1rem;
            line-height: 1.5;
            color: #ccc;
            margin-bottom: 10px;
        }
        .post-actions button {
            background: none;
            border: none;
            color: #555;
            cursor: pointer;
            font-size: 0.7rem;
            margin-right: 10px;
            text-transform: uppercase;
        }
        .post-actions button:hover { color: #fff; }

        /* Input Area */
        .input-area {
            padding: 15px;
            background: #080808;
            border-top: 1px solid #333;
            display: flex;
            gap: 10px;
        }
        .status-input {
            flex-grow: 1;
            background: #111;
            border: 1px solid #333;
            color: #ddd;
            padding: 8px;
            font-family: inherit;
        }
        .submit-btn {
            background: #222;
            color: #c4a484;
            border: 1px solid #333;
            padding: 0 15px;
            cursor: pointer;
        }

        /* --- RIGHT: THE BUTTONS (Replaces "What's New") --- */
        .sidebar {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
            padding-top: 20px;
        }

        .side-module {
            background: #0a0a0a;
            border: 1px solid #333;
            padding: 15px;
            position: relative;
        }

        /* Styling the modules to look like the buttons in the image */
        .module-title {
            background: #151515;
            color: #c4a484;
            padding: 5px 10px;
            font-size: 1.2rem;
            margin: -15px -15px 15px -15px; /* Pull to edges */
            border-bottom: 1px solid #333;
            text-align: center;
            font-family: 'Georgia', serif;
        }

        .list-item {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            font-size: 0.9rem;
            color: #888;
            border-bottom: 1px dotted #222;
        }
        .list-item:hover { color: #fff; cursor: pointer;}
        .online-dot { color: #4b6b55; margin-right: 5px; } /* Muted green */

        /* Chat Specifics */
        .chat-view {
            height: 150px;
            overflow-y: auto;
            font-size: 0.8rem;
            color: #777;
            margin-bottom: 10px;
        }
        .chat-input {
            width: 100%;
            background: #111;
            border: none;
            border-bottom: 1px solid #333;
            color: #aaa;
            padding: 5px;
        }

        /* --- FOOTER --- */
        footer {
            width: 100%;
            text-align: center;
            font-size: 0.7rem;
            color: #444;
            padding: 20px;
            margin-top: auto; /* Push to bottom */
            font-family: sans-serif;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #333; }

    </style>
</head>
<body>

    <header class="site-header">
        <div class="main-title">network.com</div>
        <nav class="nav-bar">
            <a href="#">home</a> <span class="separator">|</span>
            <a href="#">profile</a> <span class="separator">|</span>
            <a href="#"></a> <span class="separator">|</span>
            <a href="#">settings</a> <span class="separator">|</span>
            <a href="#" onclick="logout()" style="color: #844;">log out</a>
            
            <span style="float: right; text-transform: none; color: #555;">
                 <span id="user-display" style="color: #c4a484;">...</span>
            </span>
        </nav>
    </header>

    <div class="stage-container">
        
        <div class="content-window">
            <div class="window-header">
                <span>Stream</span>
                <span>● Live</span>
            </div>

            <div class="feed-scroll" id="feed">
                <div class="post">
                    <div class="post-meta">System • 12:00 PM</div>
                    <div class="post-body">
                    quiet
                    </div>
                    <div class="post-actions">
                        <button onclick="replyToInput()">Reply</button>
                        <button style="color: #522;">Block</button>
                    </div>
                </div>
            </div>

            <div class="input-area">
                <input type="text" id="postInput" class="status-input" placeholder="Write something...">
                <button class="submit-btn" onclick="addPost()">Post</button>
            </div>
        </div>

        <div class="sidebar">
            
            <div class="side-module">
                <div class="module-title">Connections</div>
                <div class="list-item"><span class="online-dot">●</span> jinks</div>
                <div class="list-item"><span class="online-dot">●</span> bladee_fan</div>
                <div class="list-item"><span style="color:#333">●</span> ghost_user</div>
                <div class="list-item"><span class="online-dot">●</span> admin</div>
            </div>

            <div class="side-module" style="flex-grow: 1;">
                <div class="module-title">Global Chat</div>
                <div class="chat-view" id="chat-box">
                    <div style="margin-bottom: 5px;">&lt;sys&gt; connected.</div>
                </div>
                <input type="text" class="chat-input" id="chat-input" placeholder="Send message..." onkeypress="handleChat(event)">
            </div>

        </div>
    </div>

    <footer>
        &copy; 2025 network inc. | established in the void
    </footer>

    <script>
        // 1. Auth Check & Display
        const user = localStorage.getItem('username');
        if(user) {
            document.getElementById('user-display').textContent = user;
        }

        // 2. Logout
        function logout() {
            localStorage.removeItem('username');
            window.location.href = 'login.html';
        }

        // 3. Post Logic
        function addPost() {
            const input = document.getElementById('postInput');
            const text = input.value;
            if(!text) return;

            // TODO: FIREBASE INTEGRATION HERE
            
            const feed = document.getElementById('feed');
            const div = document.createElement('div');
            div.className = 'post';
            div.innerHTML = `
                <div class="post-meta">${user} • Just now</div>
                <div class="post-body">${text}</div>
                <div class="post-actions">
                    <button onclick="replyToInput()">Reply</button>
                    <button onclick="blockUser()" style="color: #522;">Block</button>
                </div>
            `;
            feed.prepend(div);
            input.value = '';
        }

        // 4. Chat Logic
        function handleChat(e) {
            if(e.key === 'Enter') {
                const input = document.getElementById('chat-input');
                const msg = input.value;
                if(!msg) return;

                // TODO: FIREBASE INTEGRATION HERE

                const chatBox = document.getElementById('chat-box');
                const line = document.createElement('div');
                line.style.marginBottom = "5px";
                line.innerHTML = `<span style="color:#c4a484">&lt;${user}&gt;</span> ${msg}`;
                chatBox.appendChild(line);
                chatBox.scrollTop = chatBox.scrollHeight;
                input.value = '';
            }
        }

        function replyToInput() {
            document.getElementById('postInput').focus();
            document.getElementById('postInput').placeholder = "Replying...";
        }

        function blockUser() {
            alert("blocked");
        }
    </script>
</body>
</html>